'use strict';

const chalk = require('chalk');

const gistInformations = (rawData, index) => {
  let messageBlock = '{0}\n{1}\n{2}\n{3}';

  const delimiter = chalk.dim('+'.concat((Array(80).join('-')), '+'));
  let number = chalk.bold.green('| Gist number {0} on list'.format(index));
  let title = chalk.underline.bold.green('| Gist {0}'.format(rawData.description));
  let Id = chalk.underline.bold.blue('| Id {0}'.format(rawData.id));
  let access = chalk.green('| Access: {0}'.format((rawData.public ? 'Public' : 'Private')));

  return messageBlock.format(delimiter, number, title, Id, access);
};

const gistBasicDetails = (chunk) => {
  let messageBlock = '{0}\n{1}\n{2}\n{3}\n{4}\n{5}\n{6}';

  let header = chalk.dim('+'.concat((Array(80).join('=')), '+'));
  let delimiter = chalk.dim('+'.concat((Array(80).join('-')), '+'));

  let title = chalk.bold.bgBlack('| {0}'.format(chunk.description));
  let cloneUrl = chalk.bold.green('| clone url: {0}'.format(chunk.git_push_url));
  let created = chalk.bold.green('| created: {0}'.format(chunk.created_at));
  let updated = chalk.bold.green('| updated: {0}'.format(chunk.updated_at));

  return messageBlock.format(header, title, delimiter, cloneUrl, created, updated, delimiter);
};

// TODO: Fix PrintFIleDetails
const printFileDetails = (files) => {
  const fileKeys = Object.keys(files);
  console.log(fileKeys)
};

module.exports = {
  gistInformations: gistInformations,
  gistBasicDetails: gistBasicDetails,
  printFileDetails: printFileDetails
};
